!function(){return function e(t,n,r){function c(i,a){if(!n[i]){if(!t[i]){var f="function"==typeof require&&require;if(!a&&f)return f(i,!0);if(o)return o(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[i]={exports:{}};t[i][0].call(u.exports,function(e){return c(t[i][1][e]||e)},u,u.exports,e,t,n,r)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)c(r[i]);return c}}()({1:[function(e,t,n){"use strict";var r,c=e("idb"),o=(r=c)&&r.__esModule?r:{default:r};var i="sw-precache-v3--"+(self.registration?self.registration.scope:""),a=new Map([["/css/style-3e3c685dee.css","3e3c685deeaff625bf5d07ca154ce094"],["/img/1-300.jpg","0b318b656d952b02a8359adb78671604"],["/img/1-400.jpg","ffd05d0b2dc482be2df83660fee8da82"],["/img/1-600_2x.jpg","5a682095c862ecb875cab63c71ee5443"],["/img/1-800_2x.jpg","f732ae193bd530b25a29046e6f4bfa46"],["/img/1.jpg","f732ae193bd530b25a29046e6f4bfa46"],["/img/10-300.jpg","caca8c3c0f1d1a55944561529a1ed00d"],["/img/10-400.jpg","6f50f9c3aee7b20102484c006dc7ae36"],["/img/10-600_2x.jpg","dd33cccb0381f65e580106adef7cb060"],["/img/10-800_2x.jpg","a9b7cbe952e9d7ae8059b6ba4f3fc486"],["/img/10.jpg","a9b7cbe952e9d7ae8059b6ba4f3fc486"],["/img/2-300.jpg","2c4b468b9f9f2edcc4b592e8da9cabbd"],["/img/2-400.jpg","5aabe5601fb72a7ba22961cc56d8b1f0"],["/img/2-600_2x.jpg","66448bac8dcc40fdced8096637e72770"],["/img/2-800_2x.jpg","202bf5c9632c34b11e02327fdd088206"],["/img/2.jpg","202bf5c9632c34b11e02327fdd088206"],["/img/3-300.jpg","a3599cfc8822163fdf655c50f88145f9"],["/img/3-400.jpg","ca5c0e17da0c887e9c4f2bb9a4fb75fc"],["/img/3-600_2x.jpg","2873d8491cad3fc83089dba144aea9ad"],["/img/3-800_2x.jpg","f0255a2bccf3c26271e5980fd73c4017"],["/img/3.jpg","f0255a2bccf3c26271e5980fd73c4017"],["/img/4-300.jpg","ae8edffe21fe3c93d334745a28d130fc"],["/img/4-400.jpg","62f69110d918b03bbc9f35f23ce01e63"],["/img/4-600_2x.jpg","c5e7ca9e739bc485bc5390ded8e3b010"],["/img/4-800_2x.jpg","9d10519779505a2d64164f3a479ff457"],["/img/4.jpg","9d10519779505a2d64164f3a479ff457"],["/img/5-300.jpg","4a7a4accb182ce93ff2db430e2ebfc0d"],["/img/5-400.jpg","d88418ab5ef56a4a18b8e662d7fd0be4"],["/img/5-600_2x.jpg","a803ab4646a121ea1a0819f422d8d5ff"],["/img/5-800_2x.jpg","7fa96228ec2cee11ef13e349afbc555b"],["/img/5.jpg","7fa96228ec2cee11ef13e349afbc555b"],["/img/6-300.jpg","22f9a7eb144b9b36a65cc7800fb836ae"],["/img/6-400.jpg","d24127654a9c1fc7528a2a789a8b0f66"],["/img/6-600_2x.jpg","a1bff5242345671d8214c41cb17ad992"],["/img/6-800_2x.jpg","5e5244d87260919b8eef279240f850e7"],["/img/6.jpg","5e5244d87260919b8eef279240f850e7"],["/img/7-300.jpg","dcb635881b046385671122c58e5bf812"],["/img/7-400.jpg","3e47e5ef3ec4f9e70c8aefc810081a23"],["/img/7-600_2x.jpg","11c6c61e5c32eab7df4e68a1691d7781"],["/img/7-800_2x.jpg","3640fbbe246c66de2099c36d715dd848"],["/img/7.jpg","3640fbbe246c66de2099c36d715dd848"],["/img/8-300.jpg","6df8d8316123443d768cda8003878ebc"],["/img/8-400.jpg","cf10a1d251b5ad8dd36c3d61e911844e"],["/img/8-600_2x.jpg","82b471af8a4d2ccac6dc054d23a76990"],["/img/8-800_2x.jpg","58f5e48d0812272d4ed3f8f54307aba1"],["/img/8.jpg","58f5e48d0812272d4ed3f8f54307aba1"],["/img/9-300.jpg","62915c1aeea3919227074ed2686aaac1"],["/img/9-400.jpg","9db4ee3400cdb54d09b35e7e4184c203"],["/img/9-600_2x.jpg","4ae182004fc4b771f30c1ff312c1e0f5"],["/img/9-800_2x.jpg","b7ae85efbae07062855cf8cd44cd190c"],["/img/9.jpg","b7ae85efbae07062855cf8cd44cd190c"],["/img/offlineimg-300.jpg","d0c7b7e34a464d1e9e489bb2f72668ee"],["/img/offlineimg-400.jpg","94ac00b6644d1f6c92b12ade2b596a98"],["/img/offlineimg-600_2x.jpg","1089b6731e2383bcfffb471482c5a348"],["/img/offlineimg-800_2x.jpg","2dd6bac778653e9f01dbf5234c222996"],["/img/offlineimg.jpg","2dd6bac778653e9f01dbf5234c222996"],["/index.html","80db707b0b10b7ade93655c08a1347f3"],["/js/main-2259076dfe.js","2259076dfeb004b56e2c0e2951c2c52b"],["/js/restaurant_info-41b67bd369.js","41b67bd36902c5ff29649d5904dfee74"],["/pwaicons/favicon-16x16.png","660cb0c8d41634edfeed0d9740e9ddba"],["/pwaicons/favicon-32x32.png","33ac1c616c96d77e9225a962da3ab857"],["/pwaicons/icon-128x128.png","824624343e4b682b01e007270d009408"],["/pwaicons/icon-144x144.png","e226fc0165262acd5cf990ba33e773a8"],["/pwaicons/icon-152x152.png","eeed1a2ead52a09641d3d6b50a96f4bc"],["/pwaicons/icon-192x192.png","15ed23be63365c1bb3d65ffe5ec985a8"],["/pwaicons/icon-256x256.png","c780350111b8b56fdd54ec06fd46bd5c"],["/pwaicons/icon-512x512.png","b254cdd469bebd2b675ab4e191135e63"],["/restaurant.html","5489aad71911e8b380e695a0d4cbf158"]].map(function(e){var t,n,r,c,o=e[0],i=e[1],a=new URL(o,self.location),f=(t="_sw-precache",n=i,r=!1,c=new URL(a),r&&c.pathname.match(r)||(c.search+=(c.search?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(n)),c.toString());return[a.toString(),f]}));self.addEventListener("install",function(e){e.waitUntil(caches.open(i).then(function(e){return function(e){return e.keys().then(function(e){return e.map(function(e){return e.url})}).then(function(e){return new Set(e)})}(e).then(function(t){return Promise.all(Array.from(a.values()).map(function(n){if(!t.has(n)){var r=new Request(n,{credentials:"same-origin"});return fetch(r).then(function(t){if(!t.ok)throw new Error("Request for "+n+" returned a response with status "+t.status);return(r=t,r.redirected?("body"in r?Promise.resolve(r.body):r.blob()).then(function(e){return new Response(e,{headers:r.headers,status:r.status,statusText:r.statusText})}):Promise.resolve(r)).then(function(t){return e.put(n,t)});var r})}}))})}).then(function(){return self.skipWaiting()}))}),self.addEventListener("activate",function(e){var t=new Set(a.values());e.waitUntil(caches.open(i).then(function(e){return e.keys().then(function(n){return Promise.all(n.map(function(n){if(!t.has(n.url))return e.delete(n)}))})}).then(function(){return self.clients.claim()}))});var f=[/^utm_/];self.addEventListener("fetch",function(e){if("GET"===e.request.method){var t,n=function(e,t){var n=new URL(e);return n.hash="",n.search=n.search.slice(1).split("&").map(function(e){return e.split("=")}).filter(function(e){return t.every(function(t){return!t.test(e[0])})}).map(function(e){return e.join("=")}).join("&"),n.toString()}(e.request.url,f);(t=a.has(n))||(n=function(e,t){var n=new URL(e);return"/"===n.pathname.slice(-1)&&(n.pathname+=t),n.toString()}(n,"index.html"),t=a.has(n));if(t)e.respondWith(caches.open(i).then(function(e){return e.match(a.get(n)).then(function(e){if(e)return e;throw Error("The cached response that was expected is missing.")})}).catch(function(t){return console.warn('Couldn\'t serve response for "%s" from cache: %O',e.request.url,t),fetch(e.request)}));else{var r=e.request,c=new URL(r.url);if("https://api.tiles.mapbox.com"===c.origin)return;if("1337"===c.port)return void e.respondWith((o=r,fetch(o).then(function(e){return e.json()}).then(function(e){return s.then(function(t){if(t){var n=t.transaction("restaurants","readwrite"),r=n.objectStore("restaurants"),c=!0,o=!1,i=void 0;try{for(var a,f=e[Symbol.iterator]();!(c=(a=f.next()).done);c=!0){var s=a.value;r.put(s,s.id)}}catch(e){o=!0,i=e}finally{try{!c&&f.return&&f.return()}finally{if(o)throw i}}}}).catch(function(e){return console.log("idb error: ",e)}),new Response(JSON.stringify(e))}).catch(function(e){return s.then(function(e){if(!e)throw"DB undefined";var t=e.transaction("restaurants"),n=t.objectStore("restaurants");return n.getAll().then(function(e){if(0===e.length)throw"DB data is empty";return console.log("Data served from DB"),new Response(JSON.stringify(e))}).catch(function(e){return e})}).catch(function(t){return console.log(e+t),Promise.reject(e+t)})})));if(c.href.includes("chrome-extension")||"/browser-sync/socket.io/"===c.pathname||c.href.includes("browser-sync/browser-sync-client.js"))return;c.pathname.startsWith("/restaurant.html")&&(r="/restaurant.html"),e.respondWith(caches.match(r).then(function(e){return e||fetch(r).then(function(e){return caches.open(i).then(function(t){return t.put(r,e.clone()),e})}).catch(function(e){if(console.log("fallback",r.url),r.url.indexOf("/img/")>=0){var t=r.url;return t=t.substring(0,t.indexOf("/img/"))+"/img/offlineimg"+t.substring(t.indexOf("-"),t.length),console.log(t),caches.match(t)}})}))}}var o}),self.addEventListener("message",function(e){"skipWaiting"==e.data.action&&self.skipWaiting()});var s=o.default.open("restaurant-store",1,function(e){switch(e.oldVersion){case 0:e.createObjectStore("restaurants")}})},{idb:2}],2:[function(e,t,n){"use strict";!function(){function e(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function n(t,n,r){var c,o=new Promise(function(o,i){e(c=t[n].apply(t,r)).then(o,i)});return o.request=c,o}function r(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function c(e,t,r,c){c.forEach(function(c){c in r.prototype&&(e.prototype[c]=function(){return n(this[t],c,arguments)})})}function o(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function i(e,t,r,c){c.forEach(function(c){c in r.prototype&&(e.prototype[c]=function(){return e=this[t],(r=n(e,c,arguments)).then(function(e){if(e)return new f(e,r.request)});var e,r})})}function a(e){this._index=e}function f(e,t){this._cursor=e,this._request=t}function s(e){this._store=e}function u(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new u(n)}function p(e){this._db=e}r(a,"_index",["name","keyPath","multiEntry","unique"]),c(a,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),i(a,"_index",IDBIndex,["openCursor","openKeyCursor"]),r(f,"_cursor",["direction","key","primaryKey","value"]),c(f,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(f.prototype[t]=function(){var n=this,r=arguments;return Promise.resolve().then(function(){return n._cursor[t].apply(n._cursor,r),e(n._request).then(function(e){if(e)return new f(e,n._request)})})})}),s.prototype.createIndex=function(){return new a(this._store.createIndex.apply(this._store,arguments))},s.prototype.index=function(){return new a(this._store.index.apply(this._store,arguments))},r(s,"_store",["name","keyPath","indexNames","autoIncrement"]),c(s,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),i(s,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),o(s,"_store",IDBObjectStore,["deleteIndex"]),u.prototype.objectStore=function(){return new s(this._tx.objectStore.apply(this._tx,arguments))},r(u,"_tx",["objectStoreNames","mode"]),o(u,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new s(this._db.createObjectStore.apply(this._db,arguments))},r(d,"_db",["name","version","objectStoreNames"]),o(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new u(this._db.transaction.apply(this._db,arguments))},r(p,"_db",["name","version","objectStoreNames"]),o(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[s,a].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t,n=(t=arguments,Array.prototype.slice.call(t)),r=n[n.length-1],c=this._store||this._index,o=c[e].apply(c,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[a,s].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(c){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():c(r)):c(r)})})})});var b={open:function(e,t,r){var c=n(indexedDB,"open",[e,t]),o=c.request;return o&&(o.onupgradeneeded=function(e){r&&r(new d(o.result,e.oldVersion,o.transaction))}),c.then(function(e){return new p(e)})},delete:function(e){return n(indexedDB,"deleteDatabase",[e])}};void 0!==t?(t.exports=b,t.exports.default=t.exports):self.idb=b}()},{}]},{},[1]);