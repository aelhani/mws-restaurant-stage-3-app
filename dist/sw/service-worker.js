!function(){return function e(t,n,r){function o(i,a){if(!n[i]){if(!t[i]){var s="function"==typeof require&&require;if(!a&&s)return s(i,!0);if(c)return c(i,!0);var f=new Error("Cannot find module '"+i+"'");throw f.code="MODULE_NOT_FOUND",f}var u=n[i]={exports:{}};t[i][0].call(u.exports,function(e){return o(t[i][1][e]||e)},u,u.exports,e,t,n,r)}return n[i].exports}for(var c="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}}()({1:[function(e,t,n){"use strict";var r,o=e("idb"),c=(r=o)&&r.__esModule?r:{default:r};var i="sw-precache-v3--"+(self.registration?self.registration.scope:""),a=new Map([["/404.html","365e8f9e21884ae33c59c49aa93c590b"],["/css/style-5891d44510.css","5891d44510dc54566ff0090865bc7876"],["/img/1-300.jpg","0b318b656d952b02a8359adb78671604"],["/img/1-400.jpg","ffd05d0b2dc482be2df83660fee8da82"],["/img/1-600_2x.jpg","5a682095c862ecb875cab63c71ee5443"],["/img/1-800_2x.jpg","f732ae193bd530b25a29046e6f4bfa46"],["/img/1.jpg","f732ae193bd530b25a29046e6f4bfa46"],["/img/10-300.jpg","caca8c3c0f1d1a55944561529a1ed00d"],["/img/10-400.jpg","6f50f9c3aee7b20102484c006dc7ae36"],["/img/10-600_2x.jpg","dd33cccb0381f65e580106adef7cb060"],["/img/10-800_2x.jpg","a9b7cbe952e9d7ae8059b6ba4f3fc486"],["/img/10.jpg","a9b7cbe952e9d7ae8059b6ba4f3fc486"],["/img/2-300.jpg","2c4b468b9f9f2edcc4b592e8da9cabbd"],["/img/2-400.jpg","5aabe5601fb72a7ba22961cc56d8b1f0"],["/img/2-600_2x.jpg","66448bac8dcc40fdced8096637e72770"],["/img/2-800_2x.jpg","202bf5c9632c34b11e02327fdd088206"],["/img/2.jpg","202bf5c9632c34b11e02327fdd088206"],["/img/3-300.jpg","a3599cfc8822163fdf655c50f88145f9"],["/img/3-400.jpg","ca5c0e17da0c887e9c4f2bb9a4fb75fc"],["/img/3-600_2x.jpg","2873d8491cad3fc83089dba144aea9ad"],["/img/3-800_2x.jpg","f0255a2bccf3c26271e5980fd73c4017"],["/img/3.jpg","f0255a2bccf3c26271e5980fd73c4017"],["/img/4-300.jpg","ae8edffe21fe3c93d334745a28d130fc"],["/img/4-400.jpg","62f69110d918b03bbc9f35f23ce01e63"],["/img/4-600_2x.jpg","c5e7ca9e739bc485bc5390ded8e3b010"],["/img/4-800_2x.jpg","9d10519779505a2d64164f3a479ff457"],["/img/4.jpg","9d10519779505a2d64164f3a479ff457"],["/img/5-300.jpg","4a7a4accb182ce93ff2db430e2ebfc0d"],["/img/5-400.jpg","d88418ab5ef56a4a18b8e662d7fd0be4"],["/img/5-600_2x.jpg","a803ab4646a121ea1a0819f422d8d5ff"],["/img/5-800_2x.jpg","7fa96228ec2cee11ef13e349afbc555b"],["/img/5.jpg","7fa96228ec2cee11ef13e349afbc555b"],["/img/6-300.jpg","22f9a7eb144b9b36a65cc7800fb836ae"],["/img/6-400.jpg","d24127654a9c1fc7528a2a789a8b0f66"],["/img/6-600_2x.jpg","a1bff5242345671d8214c41cb17ad992"],["/img/6-800_2x.jpg","5e5244d87260919b8eef279240f850e7"],["/img/6.jpg","5e5244d87260919b8eef279240f850e7"],["/img/7-300.jpg","dcb635881b046385671122c58e5bf812"],["/img/7-400.jpg","3e47e5ef3ec4f9e70c8aefc810081a23"],["/img/7-600_2x.jpg","11c6c61e5c32eab7df4e68a1691d7781"],["/img/7-800_2x.jpg","3640fbbe246c66de2099c36d715dd848"],["/img/7.jpg","3640fbbe246c66de2099c36d715dd848"],["/img/8-300.jpg","6df8d8316123443d768cda8003878ebc"],["/img/8-400.jpg","cf10a1d251b5ad8dd36c3d61e911844e"],["/img/8-600_2x.jpg","82b471af8a4d2ccac6dc054d23a76990"],["/img/8-800_2x.jpg","58f5e48d0812272d4ed3f8f54307aba1"],["/img/8.jpg","58f5e48d0812272d4ed3f8f54307aba1"],["/img/9-300.jpg","62915c1aeea3919227074ed2686aaac1"],["/img/9-400.jpg","9db4ee3400cdb54d09b35e7e4184c203"],["/img/9-600_2x.jpg","4ae182004fc4b771f30c1ff312c1e0f5"],["/img/9-800_2x.jpg","b7ae85efbae07062855cf8cd44cd190c"],["/img/9.jpg","b7ae85efbae07062855cf8cd44cd190c"],["/img/offlineimg-300.jpg","d0c7b7e34a464d1e9e489bb2f72668ee"],["/img/offlineimg-400.jpg","94ac00b6644d1f6c92b12ade2b596a98"],["/img/offlineimg-600_2x.jpg","1089b6731e2383bcfffb471482c5a348"],["/img/offlineimg-800_2x.jpg","2dd6bac778653e9f01dbf5234c222996"],["/img/offlineimg.jpg","2dd6bac778653e9f01dbf5234c222996"],["/index.html","9410ca41f659727ae1818f8e404536fd"],["/js/main-56ebb0f116.js","56ebb0f116c3a51c7cbdb3bab1f225dd"],["/js/restaurant_info-e8f87b077f.js","e8f87b077f5265b4cec8a2d8bedfd3ec"],["/pwaicons/favicon-16x16.png","660cb0c8d41634edfeed0d9740e9ddba"],["/pwaicons/favicon-32x32.png","33ac1c616c96d77e9225a962da3ab857"],["/pwaicons/icon-128x128.png","824624343e4b682b01e007270d009408"],["/pwaicons/icon-144x144.png","e226fc0165262acd5cf990ba33e773a8"],["/pwaicons/icon-152x152.png","eeed1a2ead52a09641d3d6b50a96f4bc"],["/pwaicons/icon-192x192.png","15ed23be63365c1bb3d65ffe5ec985a8"],["/pwaicons/icon-256x256.png","c780350111b8b56fdd54ec06fd46bd5c"],["/pwaicons/icon-512x512.png","b254cdd469bebd2b675ab4e191135e63"],["/restaurant.html","2c1fa9c90c97d98f88fba34cb2d4e9c4"]].map(function(e){var t,n,r,o,c=e[0],i=e[1],a=new URL(c,self.location),s=(t="_sw-precache",n=i,r=!1,o=new URL(a),r&&o.pathname.match(r)||(o.search+=(o.search?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(n)),o.toString());return[a.toString(),s]}));self.addEventListener("install",function(e){e.waitUntil(caches.open(i).then(function(e){return function(e){return e.keys().then(function(e){return e.map(function(e){return e.url})}).then(function(e){return new Set(e)})}(e).then(function(t){return Promise.all(Array.from(a.values()).map(function(n){if(!t.has(n)){var r=new Request(n,{credentials:"same-origin"});return fetch(r).then(function(t){if(!t.ok)throw new Error("Request for "+n+" returned a response with status "+t.status);return(r=t,r.redirected?("body"in r?Promise.resolve(r.body):r.blob()).then(function(e){return new Response(e,{headers:r.headers,status:r.status,statusText:r.statusText})}):Promise.resolve(r)).then(function(t){return e.put(n,t)});var r})}}))})}).then(function(){return self.skipWaiting()}))}),self.addEventListener("activate",function(e){var t=new Set(a.values());e.waitUntil(caches.open(i).then(function(e){return e.keys().then(function(n){return Promise.all(n.map(function(n){if(!t.has(n.url))return e.delete(n)}))})}).then(function(){return self.clients.claim()}))});var s=[/^utm_/],f=!1,u={"trigger-sync":{reqs:"requests"},"reviews-sync":{reqs:"post-requests",data:"reviews"}},d=[/^\/restaurant/],p=[/mapbox/,/maps/];function g(e){return!this.match(e)}self.addEventListener("fetch",function(e){var t,n,r=e.request,o=new URL(r.url),c=o.pathname.replace(/^\/+|\/+$/g,"").split("/"),u=c[0];if(f&&["POST","PUT"].includes(r.method)){if("POST"===r.method&&"reviews"===u)return y({event:e,store:u,syncTagName:"reviews-sync"});if("PUT"===r.method&&"restaurants"===u)return y({event:e,store:u,id:parseInt(c[1]),syncTagName:"trigger-sync"})}else if("PUT"===r.method)e.respondWith(fetch(r).then(function(e){return e.json()}).then(function(e){return b(e,u),new Response(JSON.stringify(e))}));else if("GET"===r.method){var l,m=function(e,t){var n=new URL(e);return n.hash="",n.search=n.search.slice(1).split("&").map(function(e){return e.split("=")}).filter(function(e){return t.every(function(t){return!t.test(e[0])})}).map(function(e){return e.join("=")}).join("&"),n.toString()}(o,s);(l=a.has(m))||(m=function(e,t){var n=new URL(e);return"/"===n.pathname.slice(-1)&&(n.pathname+=t),n.toString()}(m,"index.html"),l=a.has(m));var v=function(e,t){var n=e.substring(1).split("&"),r=void 0,o=void 0;for(o=0;o<n.length;o++)if((r=n[o].split("="))[0]===t)return void 0===r[1]||decodeURIComponent(r[1])}(o.search,"id");if(l||o.pathname.startsWith("/restaurant.html")&&""!==v&&!isNaN(v)&&(m=o.href.replace(o.search,""),l=a.has(m)),!l&&"navigate"===r.mode&&function(e,t){if(0===e.length)return!0;var n=new URL(t).pathname;return e.some(function(e){return n.match(e)})}(d,r.url)&&(m=new URL("/404.html",self.location).toString(),l=a.has(m)),l)e.respondWith(caches.open(i).then(function(e){return e.match(a.get(m)).then(function(e){if(e)return e;throw Error("The cached response that was expected is missing.")})}).catch(function(t){return console.warn('Couldn\'t serve response for "%s" from cache: %O',e.request.url,t),fetch(e.request)}));else{if(!p.every(g,r.url))return;if("https://mnaz-restaurant-reviews-api.herokuapp.com"===o.origin)return void e.respondWith((t=r,n=u,fetch(t).then(function(e){return e.json()}).then(function(e){return b(e,n),new Response(JSON.stringify(e))}).catch(function(e){return h(n,e)})));if(o.href.includes("chrome-extension")||"/browser-sync/socket.io/"===o.pathname||o.href.includes("browser-sync/browser-sync-client.js"))return;e.respondWith(caches.match(r).then(function(e){return e||fetch(r).then(function(e){return caches.open(i).then(function(t){return t.put(r,e.clone()),e})}).catch(function(e){if(console.log("error ",e),console.log("fallback",r.url),r.url.indexOf("/img/")>=0){var t=r.url;return t=t.substring(0,t.indexOf("/img/"))+"/img/offlineimg"+t.substring(t.indexOf("-"),t.length),console.log(t),caches.match(t)}})}))}}});var l=c.default.open("restaurant-store",1,function(e){switch(e.oldVersion){case 0:e.createObjectStore("restaurants",{keyPath:"id"}),e.createObjectStore("reviews",{keyPath:"id"}),e.createObjectStore("requests",{keyPath:"id"}),e.createObjectStore("post-requests",{keyPath:"id"})}});function b(e,t){return console.log("saveDataToIdb",t),l.then(function(n){if(n){var r=n.transaction(t,"readwrite"),o=r.objectStore(t);if(Array.isArray(e)){var c=!0,i=!1,a=void 0;try{for(var s,f=e[Symbol.iterator]();!(c=(s=f.next()).done);c=!0){var u=s.value;o.put(u)}}catch(e){i=!0,a=e}finally{try{!c&&f.return&&f.return()}finally{if(i)throw a}}}else o.put(e);return r.complete}}).catch(function(e){return console.log("idb error: ",e)})}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return l.then(function(t){if(!t)throw"DB undefined";return t.transaction(e).objectStore(e).getAll().then(function(e){if(0===e.length)throw"DB: data is empty";return console.log("Data served from DB"),new Response(JSON.stringify(e))}).catch(function(e){return e})}).catch(function(e){return console.log(t+e),Promise.reject(t+e)})}function m(e,t){return(n=t,r=e.id,l.then(function(e){if(e)return e.transaction(n).objectStore(n).get(r)}).catch(function(e){return console.log("idb error: ",e)})).then(function(n){return b(n=void 0===n?e:Object.assign(n,e),t)});var n,r}function v(e){return function(){var e=self.registration;if(!e)try{navigator.serviceWorker.getRegistration().then(function(t){e=t})}catch(e){}return e.sync}().register(e)}function y(e){!1 in self||e.event.waitUntil((e.event.respondWith(new Response(null,{status:302})),void function(e){var t=e.id||Date.now()+"-"+performance.now(),n=e.event.request;return n.json().then(function(r){var o=function(e,t){return{url:e.url,headers:Array.from(e.headers),method:e.method,credentials:e.credentials,referrer:e.referrer,mode:"navigate"===e.mode?"same-origin":e.mode,body:JSON.stringify(t)}}(n,r);return o=Object.assign(o,{id:t}),r=Object.assign(r,{id:t}),b(o,u[e.syncTagName].reqs)&&m(r,e.store)})}(e).then(function(){v(e.syncTagName),w("NotifyUserReqSaved")})))}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t?[e,t]:e;return h(e).then(function(e){return e}).then(function(e){return e.json()}).then(function(e){return e.map(function(e){return{request:function(e){return new Request(e.url,e)}(e),id:e.id}})}).then(function(e){return Promise.all(e.map(function(e){try{fetch(e.request).then(function(t){return r=e.id,o=n,c=[],Array.isArray(o)?c=o:c.push(o),c.map(function(e){return l.then(function(t){if(t)return t.transaction(e,"readwrite").objectStore(e).delete(r).complete}).catch(function(e){return console.log("idb error: ",e)})});var r,o,c})}catch(e){console.log(e)}}))})}function w(e){return clients.matchAll().then(function(t){return Promise.all(t.map(function(t){return function(e,t){return new Promise(function(n,r){var o=new MessageChannel;o.port1.onmessage=function(e){e.data.error?r(e.data.error):n(e.data)},e.postMessage(t,[o.port2])})}(t,e)}))}).then(function(t){return"isVisible"===e?t[0]:"isOffline"===e?f=t[0]:t||new Promise.resolve("Done")})}self.addEventListener("sync",function(e){switch(e.tag){case"test-tag-from-devtools":case"reviews-sync":case"trigger-sync":!function(e){e.waitUntil(function(){if(e.tag in u){var t=u[e.tag];return t.data?j(t.reqs,t.data).then(function(){w("reloadThePageForMAJ")}):j(t.reqs).then(function(){w("reloadThePageForMAJ")})}}())}(e);break;default:console.error("Unknown background sync: "+e.tag)}}),self.addEventListener("message",function(e){"skipWaiting"==e.data.action?self.skipWaiting():"updateNetworkState"==e.data.action?f=e.data.value:"saveDataToIdb"==e.data.action?b(e.data.value,e.data.store):(console.log("SW Received Message: "+e.data),e.ports[0].postMessage("SW Says Hello back!"))})},{idb:2}],2:[function(e,t,n){"use strict";!function(){function e(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function n(t,n,r){var o,c=new Promise(function(c,i){e(o=t[n].apply(t,r)).then(c,i)});return c.request=o,c}function r(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,t,r,o){o.forEach(function(o){o in r.prototype&&(e.prototype[o]=function(){return n(this[t],o,arguments)})})}function c(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function i(e,t,r,o){o.forEach(function(o){o in r.prototype&&(e.prototype[o]=function(){return e=this[t],(r=n(e,o,arguments)).then(function(e){if(e)return new s(e,r.request)});var e,r})})}function a(e){this._index=e}function s(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function u(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new u(n)}function p(e){this._db=e}r(a,"_index",["name","keyPath","multiEntry","unique"]),o(a,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),i(a,"_index",IDBIndex,["openCursor","openKeyCursor"]),r(s,"_cursor",["direction","key","primaryKey","value"]),o(s,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(s.prototype[t]=function(){var n=this,r=arguments;return Promise.resolve().then(function(){return n._cursor[t].apply(n._cursor,r),e(n._request).then(function(e){if(e)return new s(e,n._request)})})})}),f.prototype.createIndex=function(){return new a(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new a(this._store.index.apply(this._store,arguments))},r(f,"_store",["name","keyPath","indexNames","autoIncrement"]),o(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),i(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),c(f,"_store",IDBObjectStore,["deleteIndex"]),u.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},r(u,"_tx",["objectStoreNames","mode"]),c(u,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},r(d,"_db",["name","version","objectStoreNames"]),c(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new u(this._db.transaction.apply(this._db,arguments))},r(p,"_db",["name","version","objectStoreNames"]),c(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[f,a].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t,n=(t=arguments,Array.prototype.slice.call(t)),r=n[n.length-1],o=this._store||this._index,c=o[e].apply(o,n.slice(0,-1));c.onsuccess=function(){r(c.result)}})})}),[a,f].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(o){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():o(r)):o(r)})})})});var g={open:function(e,t,r){var o=n(indexedDB,"open",[e,t]),c=o.request;return c&&(c.onupgradeneeded=function(e){r&&r(new d(c.result,e.oldVersion,c.transaction))}),o.then(function(e){return new p(e)})},delete:function(e){return n(indexedDB,"deleteDatabase",[e])}};void 0!==t?(t.exports=g,t.exports.default=t.exports):self.idb=g}()},{}]},{},[1]);